<!DOCTYPE html>
<html lang="en-US">
<head>
    <link rel="stylesheet" href="/static/stylesheets/buttons.css" type="text/css">
    <link rel="stylesheet" href="/static/stylesheets/desktop.css" type="text/css">
    <title>ZODOM</title>
    <meta charset="UTF-8">
</head>
<body>
<header>
    <nav id="topbar">
        <div id="topbar-left">ZODOM</div>
        <div class="flex-spacer"></div>
        <div id="topbar-right">
            <span id="username">{{ username }}</span>
            <a href="/logout">
                <img class="text-icon" src="/static/assets/logout.svg" alt="Logout Icon"/>
            </a>
        </div>
    </nav>
</header>

<div id="main-body">
    <!-- Last Song -->
    <span class="songbox-label" id="last-song-label">Last Song</span>
    <div class="song-box" id="last-song-box">
        <div class="song-info">
            <img src="{{ last_song_cover }}" class="song-cover" alt="Last Song Cover">
            <span class="song-title">{{ last_song_title }}</span>
            <span class="song-artist">{{ last_song_artist }}</span>
        </div>
        <div class="button-div">
            <form method="post" action="/submit_vote">
                <input type="hidden" name="song_id" value="{{ last_song_id }}">
                <input type="hidden" name="likes" value="true">
                <button type="submit"
                        class="vote-btn good-btn"
                        {% if last_song_vote.is_some() && last_song_vote.unwrap()== true %}disabled{% endif %}
                >
                    <span class="shadow"></span>
                    <span class="edge"></span>
                    <span class="front">
                        <img src="/static/assets/thumbs-up.svg" width="100%" alt="Good Song Icon">
                    </span>
                </button>
            </form>
            <form method="post" action="/submit_vote">
                <input type="hidden" name="song_id" value="{{ last_song_id }}">
                <input type="hidden" name="likes" value="false">
                <button
                        class="vote-btn bad-btn"
                        {% if last_song_vote.is_some() && last_song_vote.unwrap() == false %}disabled{% endif %}
                        >
                    <span class="shadow"></span>
                    <span class="edge"></span>
                    <span class="front">
                        <img src="/static/assets/thumbs-down.svg" width="100%" alt="Bad Song Icon">
                    </span>
                </button>
            </form>
        </div>
    </div>

    <!-- Current Song-->
    <span class="songbox-label" id="current-song-label">Current Song</span>
    <div class="song-box" id="current-song-box">
        <div class="song-info">
            <img src="{{ current_song_cover }}" class="song-cover" alt="Current Song Cover">
            <span class="song-title">{{ current_song_title }}</span>
            <span class="song-artist">{{ current_song_artist }}</span>
        </div>
        <div class="button-div">
            <form method="post" action="/submit_vote">
                <input type="hidden" name="song_id" value="{{ current_song_id }}">
                <input type="hidden" name="likes" value="true">
                <button class="vote-btn good-btn"
                        {% if current_song_vote.is_some() && current_song_vote.unwrap() == true %}disabled{% endif %}
                        >
                    <span class="shadow"></span>
                    <span class="edge"></span>
                    <span class="front">
                        <img src="/static/assets/thumbs-up.svg" width="100%" alt="Good Song Icon">
                    </span>
                </button>
            </form>
            <form method="post" action="/submit_vote">
                <input type="hidden" name="song_id" value="{{ current_song_id }}">
                <input type="hidden" name="likes" value="false">
                <button class="vote-btn bad-btn"
                        {% if current_song_vote.is_some() && current_song_vote.unwrap() == false %}
                        disabled
                        {% endif %}
                        >
                    <span class="shadow"></span>
                    <span class="edge"></span>
                    <span class="front">
                        <img src="/static/assets/thumbs-down.svg" width="100%" alt="Bad Song Icon">
                    </span>
                </button>
            </form>
        </div>
    </div>
</div>
</body>
<script>
const currentSongId = "{{ current_song_id }}";
</script>
<script src="/static/reload_on_songchange.js"></script>
</html>